# DistillationPlatform

> **AI4ChemEng ç²¾é¦è®¾è®¡ä¸Žä¼˜åŒ–å¹³å°**  
> ä¸€æ¬¾ç”¨äºŽåŒ–å·¥åŽŸç†æ•™å­¦ä¸Žå·¥ä¸šæµç¨‹è®¾è®¡çš„ç²¾é¦è®¡ç®—ä¸Žä¼˜åŒ–å¹³å°ã€‚  
> æ”¯æŒæ™®é€šç²¾é¦ã€å…±æ²¸ç²¾é¦ã€èƒå–ç²¾é¦ã€å¤šæ•ˆç²¾é¦ï¼Œä»¥åŠå¡”è®¾è®¡ä¼˜åŒ–ã€‚

---

## åŠŸèƒ½æ¦‚è¿°

| æ¨¡å—ç±»åž‹ | æ¨¡å—åç§° | åŠŸèƒ½ |
|-----------|-----------|------|
| åŸºç¡€ç²¾é¦ | `core/distillation_column.py` | é€çº§è®¡ç®—ç†è®ºä¸Žå®žé™…å¡”æ¿ï¼Œè¾“å‡º McCabeâ€“Thiele å›¾ |
| å…±æ²¸/èƒå–ç²¾é¦ | `core/special_models.py` | ä¿®æ”¹æ°”æ¶²å¹³è¡¡ (VLE) æ¨¡æ‹Ÿå…±æ²¸æˆ–èƒå–ä½“ç³» |
| å¤šæ•ˆç²¾é¦ | `core/multiple_effect.py` | æ¨¡æ‹Ÿå¤šå¡”ä¸²è”çš„çƒ­è€¦åˆç²¾é¦è¿‡ç¨‹ |
| ä¼˜åŒ–åˆ†æž | `core/optimizer.py` | æä¾›æœ€å°å›žæµæ¯”ã€ç»™å®šå¡”æ¿æ•°æ±‚å›žæµæ¯”ã€ç»æµŽä¼˜åŒ–ç­‰ |
| å¯è§†åŒ– | `utils/plotting.py` | ç»˜åˆ¶ McCabeâ€“Thiele å›¾ä¸Žç»æµŽä¼˜åŒ–æ›²çº¿ |
| æ–‡ä»¶ç®¡ç† | `utils/file_utils.py` | è‡ªåŠ¨åˆ›å»ºæ—¶é—´æˆ³ç»“æžœæ–‡ä»¶å¤¹ |
| ä¸»ç¨‹åºå…¥å£ | `main.py` | é€‰æ‹©è¿è¡Œæ™®é€šã€å…±æ²¸ã€èƒå–æˆ–å¤šæ•ˆç²¾é¦ |
| ä¼˜åŒ–å…¥å£ | `optimize.py` | äº¤äº’å¼ä¼˜åŒ–ä¸»ç¨‹åºï¼Œæ”¯æŒ Rminã€R(N)ã€ç»æµŽä¼˜åŒ–åˆ†æž |

---

## æ–‡ä»¶ç»“æž„

```text
DistillationPlatform/
â”‚
â”œâ”€â”€ main.py                         # ä¸»å…¥å£ï¼šæ™®é€š/å…±æ²¸/èƒå–/å¤šæ•ˆç²¾é¦
â”œâ”€â”€ optimize.py                     # è®¾è®¡ä¼˜åŒ–å…¥å£ï¼ˆäº¤äº’å¼ï¼‰
â”œâ”€â”€ requirements.txt                # ä¾èµ–åŒ…å£°æ˜Ž
â”‚
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ spec.py                     # ç²¾é¦å‚æ•°å¯¹è±¡ï¼ˆDistillationSpecï¼‰
â”‚   â”œâ”€â”€ vle_data.py                 # æ°”æ¶²å¹³è¡¡æ•°æ®æ’å€¼
â”‚   â”œâ”€â”€ distillation_column.py      # ç²¾é¦å¡”é€çº§è®¡ç®—
â”‚   â”œâ”€â”€ engine.py                   # è¿è¡Œä¸Žç»“æžœå¯¼å‡ºæŽ§åˆ¶
â”‚   â”œâ”€â”€ special_models.py           # å…±æ²¸/èƒå–æ¨¡åž‹ä¿®é¥°
â”‚   â”œâ”€â”€ multiple_effect.py          # å¤šæ•ˆç²¾é¦æ¨¡åž‹
â”‚   â””â”€â”€ optimizer.py                # è®¾è®¡ä¸Žä¼˜åŒ–ç®—æ³•
â”‚
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ plotting.py                 # ç»˜å›¾ï¼ˆMcCabeâ€“Thieleã€ç»æµŽä¼˜åŒ–ï¼‰
â”‚   â”œâ”€â”€ file_utils.py               # ç»“æžœç›®å½•åˆ›å»º
â”‚   â”œâ”€â”€ export.py                   # ç»“æžœå¯¼å‡ºå·¥å…·
â”‚
â””â”€â”€ results/
    â””â”€â”€ [timestamp]/
        â”œâ”€â”€ results.csv
        â”œâ”€â”€ summary.json
        â”œâ”€â”€ mccabe_thiele.png
        â”œâ”€â”€ R_vs_N.png
        â””â”€â”€ economic_opt.png
```

---

## å®‰è£…çŽ¯å¢ƒ

```bash
# åˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒï¼ˆæŽ¨èä½¿ç”¨ condaï¼‰
conda create -n AI4ChemEng python=3.9
conda activate AI4ChemEng

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

**requirements.txt**

```text
numpy>=1.24
pandas>=2.0
matplotlib>=3.7
```

---

## å¿«é€Ÿå¼€å§‹

### è¿è¡ŒåŸºç¡€ç²¾é¦

```bash
python main.py
```

è¿è¡ŒåŽåœ¨ç»ˆç«¯ä¸­äº¤äº’è¾“å…¥ï¼š

```
ðŸ§ª è¯·é€‰æ‹©è¿è¡Œæ¨¡å¼ï¼š
1 - åŸºç¡€ç²¾é¦ (basic)
2 - å…±æ²¸ç²¾é¦ (azeotropic)
3 - èƒå–ç²¾é¦ (extractive)
4 - å¤šæ•ˆç²¾é¦ (multiple)
```

æ ¹æ®æç¤ºè¾“å…¥å‚æ•°ï¼ˆå¦‚ xF, q, R ç­‰ï¼‰ï¼Œç¨‹åºå°†è‡ªåŠ¨ï¼š

- è®¡ç®—æ“ä½œçº¿ã€ç†è®ºä¸Žå®žé™…å¡”æ¿ï¼›
- è¾“å‡ºè¡¨æ ¼ç»“æžœï¼›
- ç»˜åˆ¶ McCabeâ€“Thiele å›¾ï¼›
- ä¿å­˜ç»“æžœè‡³ `results/` æ–‡ä»¶å¤¹ã€‚

ç”Ÿæˆç»“æžœç¤ºä¾‹ï¼š

```
results/2025-10-22_16-45-12/
â”œâ”€â”€ results.csv
â”œâ”€â”€ summary.json
â””â”€â”€ mccabe_thiele.png
```

---

### è¿è¡Œè®¾è®¡ä¼˜åŒ–

```bash
python optimize.py
```

ç»ˆç«¯äº¤äº’ï¼š

```
ç²¾é¦ç³»ç»Ÿä¼˜åŒ–åˆ†æž
-----------------------------------------------------
è¯·è¾“å…¥è¿›æ–™æ‘©å°”åˆ†æ•° xF (é»˜è®¤ 0.48):
è¯·è¾“å…¥å¡”é¡¶æ‘©å°”åˆ†æ•° xD (é»˜è®¤ 0.90):
è¯·è¾“å…¥å¡”é‡œæ‘©å°”åˆ†æ•° xW (é»˜è®¤ 0.01):
è¯·è¾“å…¥è¿›æ–™çƒ­çŠ¶æ€ q (é»˜è®¤ 1.0):

è¯·é€‰æ‹©ä¼˜åŒ–ç±»åž‹ï¼š
1 - è®¡ç®—æœ€å°å›žæµæ¯” Rmin
2 - ç»™å®šå¡”æ¿æ•°æ±‚æ‰€éœ€å›žæµæ¯”
3 - ç»æµŽä¼˜åŒ–ï¼ˆæœ€ä¼˜ Ropt ä¸Ž Noptï¼‰
4 - å…¨éƒ¨æ‰§è¡Œ
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
æœ€å°å›žæµæ¯” Rmin = 0.4047
å½“ç†è®ºå¡”æ¿æ•° N=8 æ—¶ï¼Œå¯¹åº”å›žæµæ¯” R = 0.982
æœ€ä¼˜ç»æµŽæ“ä½œç‚¹: R_opt=1.233, N_opt=10
å·²ç”Ÿæˆä¼˜åŒ–å›¾ï¼šR_vs_N.png ä¸Ž economic_opt.png
ä¼˜åŒ–åˆ†æžå®Œæˆï¼Œç»“æžœå·²ä¿å­˜è‡³ ./results/2025-10-22_16-45-12
```

---

## è¾“å‡ºæ–‡ä»¶è¯´æ˜Ž

| æ–‡ä»¶å | è¯´æ˜Ž |
|--------|------|
| **results.csv** | å„çº§ç†è®ºä¸Žå®žé™…å¡”æ¿çš„æµ“åº¦ã€æ“ä½œçº¿æ®µä¿¡æ¯ |
| **summary.json** | æ±‡æ€»è®¡ç®—å‚æ•°ï¼ˆRã€æ•ˆçŽ‡ç±»åž‹ã€æ¿æ•°ã€è¾¾æ ‡æƒ…å†µï¼‰ |
| **mccabe_thiele.png** | McCabeâ€“Thiele ç²¾é¦å›¾ |
| **R_vs_N.png** | å›žæµæ¯”ä¸Žç†è®ºå¡”æ¿æ•°å…³ç³»å›¾ |
| **economic_opt.png** | æ€»æˆæœ¬ä¸Žå›žæµæ¯”å…³ç³»å›¾ |

---

## å·¥ç¨‹èƒŒæ™¯ä¸Žè®¾è®¡åŽŸç†

| æ¨¡å— | ç†è®ºä¾æ® | è¯´æ˜Ž |
|------|-----------|------|
| **Rmin è®¡ç®—** | McCabeâ€“Thiele å›¾æ³•ä¸Žæ“ä½œçº¿äº¤ç‚¹ | è‡ªåŠ¨æ±‚æœ€å°å›žæµæ¯” |
| **Murphree æ•ˆçŽ‡** | å®žé™…å¡”æ¿ä¸Žç†è®ºå¡”æ¿ä¿®æ­£å…³ç³» | æ”¯æŒæ¶²ç›¸ä¸Žæ°”ç›¸æ•ˆçŽ‡ |
| **å¤šæ•ˆç²¾é¦** | çƒ­åŠ›å­¦ç¬¬äºŒå®šå¾‹ï¼šèƒ½é‡æ¢¯çº§åˆ©ç”¨ | å¤šå¡”ä¸²è”èŠ‚èƒ½æ¨¡åž‹ |
| **ç»æµŽä¼˜åŒ–** | æˆæœ¬å‡½æ•° \$begin:math:text$C = aN + bQ(R)\\$end:math:text$ | å¹³è¡¡å¡”æ¿æ•°ä¸Žèƒ½è€—ï¼Œæ±‚æœ€ä¼˜ R |
| **å…±æ²¸/èƒå–ç²¾é¦** | æ”¹å˜ç›¸å¯¹æŒ¥å‘åº¦æˆ–æ‰°åŠ¨å¹³è¡¡æ›²çº¿ | ä¿®æ”¹ VLE æ¨¡åž‹å®žçŽ° |

---

## å¯æ‰©å±•æ–¹å‘

- **Gilliland ç»éªŒå…³è”å›¾**ï¼šç»˜åˆ¶ \$begin:math:text$N/N_{min}\\$end:math:text$ ä¸Ž \$begin:math:text$R/R_{min}\\$end:math:text$ çš„ç»éªŒæ›²çº¿  
- **è‡ªåŠ¨è°ƒèŠ‚å›žæµæ¯”**ï¼šè¿­ä»£ä½¿äº§å“çº¯åº¦è¾¾åˆ°æŒ‡å®šè¦æ±‚  
- **å¤šç›®æ ‡ä¼˜åŒ–**ï¼šåŒæ—¶æœ€å°åŒ–èƒ½è€—ä¸Žè®¾å¤‡æˆæœ¬  
- **å›¾å½¢ç•Œé¢ GUI**ï¼šé€šè¿‡ PyQt / Tkinter å®žçŽ°å¯è§†åŒ–æ“ä½œ  
- **æ‰¹é‡å‚æ•°è¿è¡Œ**ï¼šè¯»å–é…ç½®æ–‡ä»¶è‡ªåŠ¨åŒ–è¿è¡Œå¤šç»„è®¡ç®—  

---

## ç†è®ºå›¾ç¤º

**McCabeâ€“Thiele Diagram**

![McCabeâ€“Thiele Diagram](docs/mccabe_thiele_example.png)

**Economic Optimization**

![Economic Optimization](docs/economic_opt_example.png)

> æ³¨ï¼šå¦‚æ—  `docs/` æ–‡ä»¶å¤¹ï¼Œå¯å¿½ç•¥ä»¥ä¸Šå›¾ç¤ºã€‚

---

## ç¤ºä¾‹è¿è¡Œæ—¥å¿—

```text
ç²¾é¦ç³»ç»Ÿä¼˜åŒ–åˆ†æž
-----------------------------------------------------
è¯·è¾“å…¥è¿›æ–™æ‘©å°”åˆ†æ•° xF (é»˜è®¤ 0.48):
è¯·è¾“å…¥å¡”é¡¶æ‘©å°”åˆ†æ•° xD (é»˜è®¤ 0.90):
è¯·è¾“å…¥å¡”é‡œæ‘©å°”åˆ†æ•° xW (é»˜è®¤ 0.01):
è¯·è¾“å…¥è¿›æ–™çƒ­çŠ¶æ€ q (é»˜è®¤ 1.0):
æœ€å°å›žæµæ¯” Rmin = 0.4047
å½“ç†è®ºå¡”æ¿æ•° N=8 æ—¶ï¼Œå¯¹åº”å›žæµæ¯” R = 0.982
æœ€ä¼˜ç»æµŽæ“ä½œç‚¹: R_opt=1.233, N_opt=10
å·²ç”Ÿæˆä¼˜åŒ–å›¾ï¼šR_vs_N.png ä¸Ž economic_opt.png
ä¼˜åŒ–åˆ†æžå®Œæˆï¼Œç»“æžœå·²ä¿å­˜è‡³ ./results/2025-10-22_16-45-12
```

---

## ðŸ‘¨ä½œè€…ä¸Žé¡¹ç›®èƒŒæ™¯

**Author:** Zhen-Ning Guo, Kun Xu, Yu-Kai Liang
**Organization:** AI4ChemEng Project  
**Year:** 2025  

æœ¬é¡¹ç›®æ—¨åœ¨ä¸ºåŒ–å·¥åŽŸç†è¯¾ç¨‹ä¸Žç§‘ç ”æä¾›å¼€æºã€é€æ˜Žã€å¯æ‰©å±•çš„ç²¾é¦è®¡ç®—ä¸Žä¼˜åŒ–å¹³å°ã€‚

> *â€œEngineering is not just calculation â€” itâ€™s design thinking.â€*

---

## License

æœ¬é¡¹ç›®éµå¾ª **MIT License**ï¼Œå¯è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹ä¸Žæ‰©å±•ã€‚  
è‹¥åœ¨ç§‘ç ”æˆ–æ•™å­¦ä¸­ä½¿ç”¨ï¼Œè¯·å¼•ç”¨ï¼š

> Zhen-Ning Guo, Kun Xu, Yu-Kai Liang. *AI4ChemEng: An Open Distillation Design and Optimization Platform (2025)*.